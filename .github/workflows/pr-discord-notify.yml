name: PR ì•Œë¦¼ ë””ìŠ¤ì½”ë“œ ì „ì†¡

on:
  pull_request:
    types: [opened, ready_for_review]

jobs:
  notify-discord:
    runs-on: ubuntu-latest
    steps:
      - name: ë¦¬ë·°ì–´ ë§¤í•‘ ë° ë©”ì‹œì§€ ìƒì„±
        id: set-message
        run: |
          AUTHOR="${{ github.actor }}"
          if [ "$AUTHOR" = "c1vera" ]; then
            echo "content=<@287923007425478668> ë‹˜! A(ì±„ì›)ì´ PRì„ ì—´ì—ˆì–´ìš” ğŸ””\nğŸ‘‰ ${{ github.event.pull_request.html_url }}" >> $GITHUB_OUTPUT
          elif [ "$AUTHOR" = "ckdduf138" ]; then
            echo "content=<@287923007425478668> ë‹˜! B(ì°½ì—´)ì´ PRì„ ì—´ì—ˆì–´ìš” ğŸ””\nğŸ‘‰ ${{ github.event.pull_request.html_url }}" >> $GITHUB_OUTPUT
          else
            echo "content=ìƒˆë¡œìš´ PRì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤: ${{ github.event.pull_request.html_url }}" >> $GITHUB_OUTPUT
        shell: bash

      - name: ë””ìŠ¤ì½”ë“œë¡œ ë©”ì‹œì§€ ì „ì†¡
        uses: Ilshidur/action-discord@master
        with:
          webhook_url: ${{ secrets.DISCORD_WEBHOOK }}
          message: ${{ steps.set-message.outputs.content }}
